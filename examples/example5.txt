input: { 2
        1,28,27,32,18,12,9,24
3
1
1
4
1
1
2
1
0.5
2
3
1
0.3
2
0.2
6
}

output: {
📦 Current Inventory (excluding expiring):
- Olive oil: 1500 ml
- Sea salt: 500 grams
- Parsley: 100 grams
- Heirloom tomatoes: 10 unit
- Garlic: 20 cloves
- Basil: 50 grams
- Black pepper: 300 grams
- Freekeh: 2 kg
- Mint: 100 grams
- Crushed tomato: 1.2 kg
- Chili: 10 unit
- White wine: 2 liters
- Butter: 1 kg
- Cream: 2 liters
- Lemon zest: 5 unit
- Lemon: 10 unit
- Artichoke: 6 unit
- Zucchini: 8 unit
- Yogurt: 500 grams
- Rosemary: 50 grams
- Honey: 300 grams
- Dill: 50 grams
- Beets: 5 unit
- Labneh: 500 grams
- Parmesan cheese: 500 grams
- Water: unlimited unit
- Salt: unlimited unit

⏳ Expiring Ingredients:
- Eggplant: 3.0 unit (Expires in 1 days)
- Lamb chops: 1.0 kg (Expires in 4 days)
- Shrimp: 1.0 kg (Expires in 1 days)
- Cauliflower: 2.0 unit (Expires in 1 days)
- Duck breast: 0.5 kg (Expires in 2 days)
- Sea bass: 3.0 fillet (Expires in 1 days)
- Leeks: 0.3 stalk (Expires in 2 days)
- Mushrooms: 0.2 kg (Expires in 6 days)

===========================================================================

🥣 choosing soup kitchen for today...

Best matching soup kitchen:
Name: המקרר הקהילתי בצפון דיזנגוף
Address: Dizengoff St 316, Tel Aviv-Yafo
Distance: 1.19 km

===========================================================================

🧑‍🍳 Running recipe recommendation agent...
Recipe agent       [██████████████████████████████] 100%

Best matching recipes:
1. Fire-Roasted Eggplant with Labneh & Chili Oil
   Matched expiring ingredients: Eggplant
   Inventory ingredients: Olive oil, Sea salt, Garlic, Chili, Labneh, Parsley, Black pepper
   Missing ingredients: none
   Reason: The fire-roasted eggplant with labneh and chili oil embodies HaSalon's produce-driven, live-fire Israeli Mediterranean ethos, highlighting expiring eggplant's smoky depth.
2. Spiced Lamb Chops with Freekeh & Herb Salad
   Matched expiring ingredients: Lamb chops, Eggplant
   Inventory ingredients: Olive oil, Garlic, Rosemary, Sea salt, Black pepper, Freekeh, Water, Parsley, Mint, Dill, Honey
   Missing ingredients: Lemon juice
   Reason: Spiced Lamb Chops with Freekeh and Herb Salad embodies HaSalon's Israeli Mediterranean ethos, utilizing expiring lamb chops and easily sourced lemon juice.
3. Sea Bass & Cauliflower Purée with Leek-Mushroom Ragout
   Matched expiring ingredients: Cauliflower, Sea bass, Leeks, Mushrooms
   Inventory ingredients: Olive oil, Sea salt, Butter, Cream, Black pepper
   Missing ingredients: Shallots
   Reason: The sea bass and cauliflower purée celebrate HaSalon's produce-driven Israeli Mediterranean ethos, with missing shallots being simple to source.

===========================================================================

🍽️ Running restaurant recommendation agent...

Best matching restaurants:
1. Meatbar
   Matched ingredients: Lamb chops, Duck breast
   Reason: Specializes in meat dishes, making lamb chops and duck breast a perfect fit. Close by (0.79km) and likely to appreciate high-quality meats.
2. Amore Mio
   Matched ingredients: Eggplant, Mushrooms, Sea bass
   Reason: Italian restaurant that can use eggplant and mushrooms in pasta or pizza, and sea bass in seafood dishes. Very close (0.3km) and versatile with ingredients.
3. Abu Gosh
   Matched ingredients: Cauliflower, Leeks, Eggplant
   Reason: Middle Eastern cuisine often incorporates cauliflower, leeks, and eggplant in traditional dishes. Nearby (0.87km) and a good cultural match.

===========================================================================

🧠 Running decision agent...
Sending request to LLM...
Received response from LLM

--- Final Decision Summary ---
COOK   (4 items):  Cauliflower, Sea bass, Leeks, Mushrooms
  ↳ Recipe: Sea Bass & Cauliflower Purée with Leek-Mushroom Ragout
  🧾 Reason (COOK): highest coverage of expiring ingredients
SELL   (1 items):  Duck breast
  ↳ Restaurant: Meatbar
  🧾 Reason (SELL): stable to transport and in demand
DONATE (3 items):  Eggplant, Lamb chops, Shrimp
  ↳ Donation Center: המקרר הקהילתי בצפון דיזנגוף
  🧾 Reason (DONATE): short expiry and better for community benefit
----------------------------

===========================================================================

🧑‍🍳 Sending selected recipe to kitchen...

================= SEND TO KITCHEN =================
👨‍🍳  Recipe: Sea Bass & Cauliflower Purée with Leek-Mushroom Ragout
---------------------------------------------------
🧺  Ingredients:
  • Cauliflower
  • Sea bass
  • Leeks
  • Mushrooms
  • Olive oil
  • Sea salt
  • Butter
  • Cream
  • Black pepper
  • Shallots
---------------------------------------------------
🧾  Chef Notes / Reason:
  The sea bass and cauliflower purée celebrate HaSalon's produce-driven Israeli Mediterranean ethos, with missing shallots being simple to source.
===================================================


===========================================================================

✉️ Preparing outbound messages...

====== Message to restaurant ======
 Hi Meatbar, this is HaSalon! We have some high-quality surplus ingredients available today—perfect for your kitchen needs. Here’s what we’ve got:

- **Duck breast**: 0.50 kg, expires in 2 days – ₪80/kg → Total: ₪40

**Bundled offer**: Take it all for ₪35!
Pickup available today between 14:00-18:00. Please confirm at 052-1234567. Looking forward to hearing from you!

====== Message to soup kitchen ======
 Hi, this is HaSalon! We have a same-day donation of fresh ingredients for you:
- Eggplant: 3.00 units, expires in 1 day
- Lamb chops: 1.00 kg, expires in 4 days
- Shrimp: 1.00 kg, expires in 1 day

Pickup is possible today between 15:00-17:00. Please contact us at 052-1234567 to coordinate. Thanks!

===========================================================================

📊 Checking if feedback agent should run -- asking for feedback only each 10 iterations of the agent...
ℹ️ Only 2 runs found. Need 10 to activate feedback agent.

✅ Simulation complete.
}